<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>波形图</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
      .chart {
        display: flex;
        flex-wrap: wrap;
      }
      .chart > svg {
        width: calc(50% - 40px);
      }
      .plot {
        margin: 20px;
      }
      .axis-label {
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <div>
      <label>目标电压</label>
      <input type="number" id="text-box" placeholder="" value="20" />
      <button id="update-btn">生成</button>
    </div>

    <div class="chart" id="chart"></div>
    <script>
      const configurations = [
        { frequency: 50, voltage: 110 },
        { frequency: 60, voltage: 110 },
        { frequency: 50, voltage: 120 },
        { frequency: 60, voltage: 120 },
        { frequency: 50, voltage: 220 },
        { frequency: 60, voltage: 220 },
      ];

      const LT_FULL_50HZ_110V = [
        { 0: 20000 },
        { 1: 19139 },
        { 2: 18779 },
        { 3: 18499 },
        { 4: 18262 },
        { 5: 18050 },
        { 6: 17857 },
        { 7: 17678 },
        { 8: 17509 },
        { 9: 17349 },
        { 10: 17196 },
        { 11: 17048 },
        { 12: 16906 },
        { 13: 16768 },
        { 14: 16633 },
        { 15: 16502 },
        { 16: 16373 },
        { 17: 16247 },
        { 18: 16123 },
        { 19: 16000 },
        { 20: 15879 },
        { 21: 15760 },
        { 22: 15641 },
        { 23: 15523 },
        { 24: 15406 },
        { 25: 15290 },
        { 26: 15174 },
        { 27: 15058 },
        { 28: 14942 },
        { 29: 14826 },
        { 30: 14710 },
        { 31: 14594 },
        { 32: 14477 },
        { 33: 14359 },
        { 34: 14240 },
        { 35: 14121 },
        { 36: 14000 },
        { 37: 13877 },
        { 38: 13753 },
        { 39: 13627 },
        { 40: 13498 },
        { 41: 13367 },
        { 42: 13232 },
        { 43: 13094 },
        { 44: 12952 },
        { 45: 12804 },
        { 46: 12651 },
        { 47: 12491 },
        { 48: 12322 },
        { 49: 12143 },
        { 50: 11950 },
        { 51: 11738 },
        { 52: 11501 },
        { 53: 11221 },
        { 54: 10182 },
        { 55: 10000 },
        { 56: 9139 },
        { 57: 8779 },
        { 58: 8499 },
        { 59: 8262 },
        { 60: 8050 },
        { 61: 7857 },
        { 62: 7678 },
        { 63: 7509 },
        { 64: 7349 },
        { 65: 7196 },
        { 66: 7048 },
        { 67: 6906 },
        { 68: 6768 },
        { 69: 6633 },
        { 70: 6502 },
        { 71: 6373 },
        { 72: 6247 },
        { 73: 6123 },
        { 74: 6000 },
        { 75: 5879 },
        { 76: 5760 },
        { 77: 5641 },
        { 78: 5523 },
        { 79: 5406 },
        { 80: 5290 },
        { 81: 5174 },
        { 82: 5058 },
        { 83: 4942 },
        { 84: 4826 },
        { 85: 4710 },
        { 86: 4594 },
        { 87: 4477 },
        { 88: 4359 },
        { 89: 4240 },
        { 90: 4121 },
        { 91: 4000 },
        { 92: 3877 },
        { 93: 3753 },
        { 94: 3627 },
        { 95: 3498 },
        { 96: 3367 },
        { 97: 3232 },
        { 98: 3094 },
        { 99: 2952 },
        { 100: 2804 },
        { 101: 2651 },
        { 102: 2491 },
        { 103: 2322 },
        { 104: 2143 },
        { 105: 1950 },
        { 106: 1738 },
        { 107: 1501 },
        { 108: 1221 },
        { 109: 861 },
        { 110: 0 },
      ];

      const LT_FULL_50HZ_120V = [
        { 0: 20000 },
        { 1: 19176 },
        { 2: 18831 },
        { 3: 18564 },
        { 4: 18337 },
        { 5: 18136 },
        { 6: 17952 },
        { 7: 17781 },
        { 8: 17620 },
        { 9: 17468 },
        { 10: 17323 },
        { 11: 17183 },
        { 12: 17048 },
        { 13: 16918 },
        { 14: 16791 },
        { 15: 16667 },
        { 16: 16545 },
        { 17: 16427 },
        { 18: 16310 },
        { 19: 16195 },
        { 20: 16082 },
        { 21: 15970 },
        { 22: 15859 },
        { 23: 15750 },
        { 24: 15641 },
        { 25: 15533 },
        { 26: 15426 },
        { 27: 15319 },
        { 28: 15212 },
        { 29: 15106 },
        { 30: 15000 },
        { 31: 14894 },
        { 32: 14788 },
        { 33: 14681 },
        { 34: 14574 },
        { 35: 14467 },
        { 36: 14359 },
        { 37: 14250 },
        { 38: 14141 },
        { 39: 14030 },
        { 40: 13918 },
        { 41: 13805 },
        { 42: 13690 },
        { 43: 13573 },
        { 44: 13455 },
        { 45: 13333 },
        { 46: 13209 },
        { 47: 13082 },
        { 48: 12952 },
        { 49: 12817 },
        { 50: 12677 },
        { 51: 12532 },
        { 52: 12380 },
        { 53: 12219 },
        { 54: 12048 },
        { 55: 11864 },
        { 56: 11663 },
        { 57: 11436 },
        { 58: 11169 },
        { 59: 10167 },
        { 60: 10000 },
        { 61: 9176 },
        { 62: 8831 },
        { 63: 8564 },
        { 64: 8337 },
        { 65: 8136 },
        { 66: 7952 },
        { 67: 7781 },
        { 68: 7620 },
        { 69: 7468 },
        { 70: 7323 },
        { 71: 7183 },
        { 72: 7048 },
        { 73: 6918 },
        { 74: 6791 },
        { 75: 6667 },
        { 76: 6545 },
        { 77: 6427 },
        { 78: 6310 },
        { 79: 6195 },
        { 80: 6082 },
        { 81: 5970 },
        { 82: 5859 },
        { 83: 5750 },
        { 84: 5641 },
        { 85: 5533 },
        { 86: 5426 },
        { 87: 5319 },
        { 88: 5212 },
        { 89: 5106 },
        { 90: 5000 },
        { 91: 4894 },
        { 92: 4788 },
        { 93: 4681 },
        { 94: 4574 },
        { 95: 4467 },
        { 96: 4359 },
        { 97: 4250 },
        { 98: 4141 },
        { 99: 4030 },
        { 100: 3918 },
        { 101: 3805 },
        { 102: 3690 },
        { 103: 3573 },
        { 104: 3455 },
        { 105: 3333 },
        { 106: 3209 },
        { 107: 3082 },
        { 108: 2952 },
        { 109: 2817 },
        { 110: 2677 },
        { 111: 2532 },
        { 112: 2380 },
        { 113: 2219 },
        { 114: 2048 },
        { 115: 1864 },
        { 116: 1663 },
        { 117: 1436 },
        { 118: 1169 },
        { 119: 824 },
        { 120: 0 },
      ];

      const LT_FULL_50HZ_220V = [
        { 0: 20000 },
        { 1: 19392 },
        { 2: 19139 },
        { 3: 18944 },
        { 4: 18779 },
        { 5: 18632 },
        { 6: 18499 },
        { 7: 18377 },
        { 8: 18262 },
        { 9: 18153 },
        { 10: 18050 },
        { 11: 17952 },
        { 12: 17857 },
        { 13: 17766 },
        { 14: 17678 },
        { 15: 17592 },
        { 16: 17509 },
        { 17: 17428 },
        { 18: 17349 },
        { 19: 17271 },
        { 20: 17196 },
        { 21: 17121 },
        { 22: 17048 },
        { 23: 16977 },
        { 24: 16906 },
        { 25: 16836 },
        { 26: 16768 },
        { 27: 16700 },
        { 28: 16633 },
        { 29: 16567 },
        { 30: 16502 },
        { 31: 16437 },
        { 32: 16373 },
        { 33: 16310 },
        { 34: 16247 },
        { 35: 16185 },
        { 36: 16123 },
        { 37: 16061 },
        { 38: 16000 },
        { 39: 15940 },
        { 40: 15879 },
        { 41: 15819 },
        { 42: 15760 },
        { 43: 15700 },
        { 44: 15641 },
        { 45: 15582 },
        { 46: 15523 },
        { 47: 15465 },
        { 48: 15406 },
        { 49: 15348 },
        { 50: 15290 },
        { 51: 15232 },
        { 52: 15174 },
        { 53: 15116 },
        { 54: 15058 },
        { 55: 15000 },
        { 56: 14942 },
        { 57: 14884 },
        { 58: 14826 },
        { 59: 14768 },
        { 60: 14710 },
        { 61: 14652 },
        { 62: 14594 },
        { 63: 14535 },
        { 64: 14477 },
        { 65: 14418 },
        { 66: 14359 },
        { 67: 14300 },
        { 68: 14240 },
        { 69: 14181 },
        { 70: 14121 },
        { 71: 14060 },
        { 72: 14000 },
        { 73: 13939 },
        { 74: 13877 },
        { 75: 13815 },
        { 76: 13753 },
        { 77: 13690 },
        { 78: 13627 },
        { 79: 13563 },
        { 80: 13498 },
        { 81: 13433 },
        { 82: 13367 },
        { 83: 13300 },
        { 84: 13232 },
        { 85: 13164 },
        { 86: 13094 },
        { 87: 13023 },
        { 88: 12952 },
        { 89: 12879 },
        { 90: 12804 },
        { 91: 12729 },
        { 92: 12651 },
        { 93: 12572 },
        { 94: 12491 },
        { 95: 12408 },
        { 96: 12322 },
        { 97: 12234 },
        { 98: 12143 },
        { 99: 12048 },
        { 100: 11950 },
        { 101: 11847 },
        { 102: 11738 },
        { 103: 11623 },
        { 104: 11501 },
        { 105: 11368 },
        { 106: 11221 },
        { 107: 11056 },
        { 108: 10182 },
        { 109: 10091 },
        { 110: 10000 },
        { 111: 9392 },
        { 112: 9139 },
        { 113: 8944 },
        { 114: 8779 },
        { 115: 8632 },
        { 116: 8499 },
        { 117: 8377 },
        { 118: 8262 },
        { 119: 8153 },
        { 120: 8050 },
        { 121: 7952 },
        { 122: 7857 },
        { 123: 7766 },
        { 124: 7678 },
        { 125: 7592 },
        { 126: 7509 },
        { 127: 7428 },
        { 128: 7349 },
        { 129: 7271 },
        { 130: 7196 },
        { 131: 7121 },
        { 132: 7048 },
        { 133: 6977 },
        { 134: 6906 },
        { 135: 6836 },
        { 136: 6768 },
        { 137: 6700 },
        { 138: 6633 },
        { 139: 6567 },
        { 140: 6502 },
        { 141: 6437 },
        { 142: 6373 },
        { 143: 6310 },
        { 144: 6247 },
        { 145: 6185 },
        { 146: 6123 },
        { 147: 6061 },
        { 148: 6000 },
        { 149: 5940 },
        { 150: 5879 },
        { 151: 5819 },
        { 152: 5760 },
        { 153: 5700 },
        { 154: 5641 },
        { 155: 5582 },
        { 156: 5523 },
        { 157: 5465 },
        { 158: 5406 },
        { 159: 5348 },
        { 160: 5290 },
        { 161: 5232 },
        { 162: 5174 },
        { 163: 5116 },
        { 164: 5058 },
        { 165: 5000 },
        { 166: 4942 },
        { 167: 4884 },
        { 168: 4826 },
        { 169: 4768 },
        { 170: 4710 },
        { 171: 4652 },
        { 172: 4594 },
        { 173: 4535 },
        { 174: 4477 },
        { 175: 4418 },
        { 176: 4359 },
        { 177: 4300 },
        { 178: 4240 },
        { 179: 4181 },
        { 180: 4121 },
        { 181: 4060 },
        { 182: 4000 },
        { 183: 3939 },
        { 184: 3877 },
        { 185: 3815 },
        { 186: 3753 },
        { 187: 3690 },
        { 188: 3627 },
        { 189: 3563 },
        { 190: 3498 },
        { 191: 3433 },
        { 192: 3367 },
        { 193: 3300 },
        { 194: 3232 },
        { 195: 3164 },
        { 196: 3094 },
        { 197: 3023 },
        { 198: 2952 },
        { 199: 2879 },
        { 200: 2804 },
        { 201: 2729 },
        { 202: 2651 },
        { 203: 2572 },
        { 204: 2491 },
        { 205: 2408 },
        { 206: 2322 },
        { 207: 2234 },
        { 208: 2143 },
        { 209: 2048 },
        { 210: 1950 },
        { 211: 1847 },
        { 212: 1738 },
        { 213: 1623 },
        { 214: 1501 },
        { 215: 1368 },
        { 216: 1221 },
        { 217: 1056 },
        { 218: 861 },
        { 219: 608 },
        { 220: 0 },
      ];

      const LT_FULL_60HZ_110V = [
        { 0: 16667 },
        { 1: 15949 },
        { 2: 15649 },
        { 3: 15416 },
        { 4: 15218 },
        { 5: 15042 },
        { 6: 14881 },
        { 7: 14731 },
        { 8: 14591 },
        { 9: 14457 },
        { 10: 14330 },
        { 11: 14207 },
        { 12: 14088 },
        { 13: 13973 },
        { 14: 13861 },
        { 15: 13752 },
        { 16: 13644 },
        { 17: 13539 },
        { 18: 13436 },
        { 19: 13334 },
        { 20: 13233 },
        { 21: 13133 },
        { 22: 13034 },
        { 23: 12936 },
        { 24: 12839 },
        { 25: 12741 },
        { 26: 12645 },
        { 27: 12548 },
        { 28: 12452 },
        { 29: 12355 },
        { 30: 12259 },
        { 31: 12161 },
        { 32: 12064 },
        { 33: 11966 },
        { 34: 11867 },
        { 35: 11767 },
        { 36: 11666 },
        { 37: 11564 },
        { 38: 11461 },
        { 39: 11356 },
        { 40: 11248 },
        { 41: 11139 },
        { 42: 11027 },
        { 43: 10912 },
        { 44: 10793 },
        { 45: 10670 },
        { 46: 10543 },
        { 47: 10409 },
        { 48: 10269 },
        { 49: 10119 },
        { 50: 9958 },
        { 51: 9782 },
        { 52: 9584 },
        { 53: 9351 },
        { 54: 8485 },
        { 55: 8333 },
        { 56: 7616 },
        { 57: 7315 },
        { 58: 7083 },
        { 59: 6885 },
        { 60: 6708 },
        { 61: 6548 },
        { 62: 6398 },
        { 63: 6257 },
        { 64: 6124 },
        { 65: 5996 },
        { 66: 5874 },
        { 67: 5755 },
        { 68: 5640 },
        { 69: 5528 },
        { 70: 5418 },
        { 71: 5311 },
        { 72: 5206 },
        { 73: 5102 },
        { 74: 5000 },
        { 75: 4899 },
        { 76: 4800 },
        { 77: 4701 },
        { 78: 4603 },
        { 79: 4505 },
        { 80: 4408 },
        { 81: 4311 },
        { 82: 4215 },
        { 83: 4118 },
        { 84: 4022 },
        { 85: 3925 },
        { 86: 3828 },
        { 87: 3731 },
        { 88: 3633 },
        { 89: 3534 },
        { 90: 3434 },
        { 91: 3333 },
        { 92: 3231 },
        { 93: 3127 },
        { 94: 3022 },
        { 95: 2915 },
        { 96: 2806 },
        { 97: 2693 },
        { 98: 2578 },
        { 99: 2460 },
        { 100: 2337 },
        { 101: 2209 },
        { 102: 2076 },
        { 103: 1935 },
        { 104: 1786 },
        { 105: 1625 },
        { 106: 1449 },
        { 107: 1251 },
        { 108: 1018 },
        { 109: 718 },
        { 110: 0 },
      ];

      const LT_FULL_60HZ_120V = [
        { 0: 16667 },
        { 1: 15980 },
        { 2: 15693 },
        { 3: 15470 },
        { 4: 15281 },
        { 5: 15113 },
        { 6: 14960 },
        { 7: 14817 },
        { 8: 14684 },
        { 9: 14557 },
        { 10: 14436 },
        { 11: 14319 },
        { 12: 14207 },
        { 13: 14098 },
        { 14: 13992 },
        { 15: 13889 },
        { 16: 13788 },
        { 17: 13689 },
        { 18: 13592 },
        { 19: 13496 },
        { 20: 13401 },
        { 21: 13308 },
        { 22: 13216 },
        { 23: 13125 },
        { 24: 13034 },
        { 25: 12944 },
        { 26: 12855 },
        { 27: 12766 },
        { 28: 12677 },
        { 29: 12588 },
        { 30: 12500 },
        { 31: 12412 },
        { 32: 12323 },
        { 33: 12234 },
        { 34: 12145 },
        { 35: 12056 },
        { 36: 11966 },
        { 37: 11875 },
        { 38: 11784 },
        { 39: 11692 },
        { 40: 11599 },
        { 41: 11504 },
        { 42: 11408 },
        { 43: 11311 },
        { 44: 11212 },
        { 45: 11111 },
        { 46: 11008 },
        { 47: 10902 },
        { 48: 10793 },
        { 49: 10681 },
        { 50: 10564 },
        { 51: 10443 },
        { 52: 10316 },
        { 53: 10183 },
        { 54: 10040 },
        { 55: 9887 },
        { 56: 9719 },
        { 57: 9530 },
        { 58: 9307 },
        { 59: 8472 },
        { 60: 8333 },
        { 61: 7647 },
        { 62: 7359 },
        { 63: 7137 },
        { 64: 6948 },
        { 65: 6780 },
        { 66: 6626 },
        { 67: 6484 },
        { 68: 6350 },
        { 69: 6223 },
        { 70: 6102 },
        { 71: 5986 },
        { 72: 5874 },
        { 73: 5765 },
        { 74: 5659 },
        { 75: 5556 },
        { 76: 5455 },
        { 77: 5356 },
        { 78: 5258 },
        { 79: 5163 },
        { 80: 5068 },
        { 81: 4975 },
        { 82: 4883 },
        { 83: 4791 },
        { 84: 4701 },
        { 85: 4611 },
        { 86: 4521 },
        { 87: 4432 },
        { 88: 4344 },
        { 89: 4255 },
        { 90: 4167 },
        { 91: 4078 },
        { 92: 3990 },
        { 93: 3901 },
        { 94: 3812 },
        { 95: 3722 },
        { 96: 3633 },
        { 97: 3542 },
        { 98: 3451 },
        { 99: 3358 },
        { 100: 3265 },
        { 101: 3171 },
        { 102: 3075 },
        { 103: 2978 },
        { 104: 2879 },
        { 105: 2778 },
        { 106: 2674 },
        { 107: 2569 },
        { 108: 2460 },
        { 109: 2347 },
        { 110: 2231 },
        { 111: 2110 },
        { 112: 1983 },
        { 113: 1849 },
        { 114: 1707 },
        { 115: 1554 },
        { 116: 1385 },
        { 117: 1196 },
        { 118: 974 },
        { 119: 687 },
        { 120: 0 },
      ];

      const LT_FULL_60HZ_220V = [
        { 0: 16667 },
        { 1: 16160 },
        { 2: 15949 },
        { 3: 15787 },
        { 4: 15649 },
        { 5: 15527 },
        { 6: 15416 },
        { 7: 15314 },
        { 8: 15218 },
        { 9: 15128 },
        { 10: 15042 },
        { 11: 14960 },
        { 12: 14881 },
        { 13: 14805 },
        { 14: 14731 },
        { 15: 14660 },
        { 16: 14591 },
        { 17: 14523 },
        { 18: 14457 },
        { 19: 14393 },
        { 20: 14330 },
        { 21: 14268 },
        { 22: 14207 },
        { 23: 14147 },
        { 24: 14088 },
        { 25: 14030 },
        { 26: 13973 },
        { 27: 13917 },
        { 28: 13861 },
        { 29: 13806 },
        { 30: 13752 },
        { 31: 13698 },
        { 32: 13644 },
        { 33: 13592 },
        { 34: 13539 },
        { 35: 13487 },
        { 36: 13436 },
        { 37: 13384 },
        { 38: 13334 },
        { 39: 13283 },
        { 40: 13233 },
        { 41: 13183 },
        { 42: 13133 },
        { 43: 13083 },
        { 44: 13034 },
        { 45: 12985 },
        { 46: 12936 },
        { 47: 12887 },
        { 48: 12839 },
        { 49: 12790 },
        { 50: 12741 },
        { 51: 12693 },
        { 52: 12645 },
        { 53: 12596 },
        { 54: 12548 },
        { 55: 12500 },
        { 56: 12452 },
        { 57: 12404 },
        { 58: 12355 },
        { 59: 12307 },
        { 60: 12259 },
        { 61: 12210 },
        { 62: 12161 },
        { 63: 12113 },
        { 64: 12064 },
        { 65: 12015 },
        { 66: 11966 },
        { 67: 11917 },
        { 68: 11867 },
        { 69: 11817 },
        { 70: 11767 },
        { 71: 11717 },
        { 72: 11666 },
        { 73: 11616 },
        { 74: 11564 },
        { 75: 11513 },
        { 76: 11461 },
        { 77: 11408 },
        { 78: 11356 },
        { 79: 11302 },
        { 80: 11248 },
        { 81: 11194 },
        { 82: 11139 },
        { 83: 11083 },
        { 84: 11027 },
        { 85: 10970 },
        { 86: 10912 },
        { 87: 10853 },
        { 88: 10793 },
        { 89: 10732 },
        { 90: 10670 },
        { 91: 10607 },
        { 92: 10543 },
        { 93: 10477 },
        { 94: 10409 },
        { 95: 10340 },
        { 96: 10269 },
        { 97: 10195 },
        { 98: 10119 },
        { 99: 10040 },
        { 100: 9958 },
        { 101: 9872 },
        { 102: 9782 },
        { 103: 9686 },
        { 104: 9584 },
        { 105: 9473 },
        { 106: 9351 },
        { 107: 9213 },
        { 108: 8485 },
        { 109: 8409 },
        { 110: 8333 },
        { 111: 7827 },
        { 112: 7616 },
        { 113: 7453 },
        { 114: 7315 },
        { 115: 7194 },
        { 116: 7083 },
        { 117: 6980 },
        { 118: 6885 },
        { 119: 6794 },
        { 120: 6708 },
        { 121: 6626 },
        { 122: 6548 },
        { 123: 6472 },
        { 124: 6398 },
        { 125: 6327 },
        { 126: 6257 },
        { 127: 6190 },
        { 128: 6124 },
        { 129: 6059 },
        { 130: 5996 },
        { 131: 5934 },
        { 132: 5874 },
        { 133: 5814 },
        { 134: 5755 },
        { 135: 5697 },
        { 136: 5640 },
        { 137: 5583 },
        { 138: 5528 },
        { 139: 5473 },
        { 140: 5418 },
        { 141: 5364 },
        { 142: 5311 },
        { 143: 5258 },
        { 144: 5206 },
        { 145: 5154 },
        { 146: 5102 },
        { 147: 5051 },
        { 148: 5000 },
        { 149: 4950 },
        { 150: 4899 },
        { 151: 4849 },
        { 152: 4800 },
        { 153: 4750 },
        { 154: 4701 },
        { 155: 4652 },
        { 156: 4603 },
        { 157: 4554 },
        { 158: 4505 },
        { 159: 4457 },
        { 160: 4408 },
        { 161: 4360 },
        { 162: 4311 },
        { 163: 4263 },
        { 164: 4215 },
        { 165: 4167 },
        { 166: 4118 },
        { 167: 4070 },
        { 168: 4022 },
        { 169: 3974 },
        { 170: 3925 },
        { 171: 3877 },
        { 172: 3828 },
        { 173: 3779 },
        { 174: 3731 },
        { 175: 3682 },
        { 176: 3633 },
        { 177: 3583 },
        { 178: 3534 },
        { 179: 3484 },
        { 180: 3434 },
        { 181: 3384 },
        { 182: 3333 },
        { 183: 3282 },
        { 184: 3231 },
        { 185: 3179 },
        { 186: 3127 },
        { 187: 3075 },
        { 188: 3022 },
        { 189: 2969 },
        { 190: 2915 },
        { 191: 2861 },
        { 192: 2806 },
        { 193: 2750 },
        { 194: 2693 },
        { 195: 2636 },
        { 196: 2578 },
        { 197: 2520 },
        { 198: 2460 },
        { 199: 2399 },
        { 200: 2337 },
        { 201: 2274 },
        { 202: 2209 },
        { 203: 2143 },
        { 204: 2076 },
        { 205: 2007 },
        { 206: 1935 },
        { 207: 1862 },
        { 208: 1786 },
        { 209: 1707 },
        { 210: 1625 },
        { 211: 1539 },
        { 212: 1449 },
        { 213: 1353 },
        { 214: 1251 },
        { 215: 1140 },
        { 216: 1018 },
        { 217: 880 },
        { 218: 718 },
        { 219: 507 },
        { 220: 0 },
      ];

      const svgWidth = 400;
      const svgHeight = 200;
      const margin = { top: 50, right: 50, bottom: 50, left: 50 };

      function updatePlot() {
        const textBox = document.getElementById("text-box");
        const V_desired = parseInt(textBox.value);
        const data = {
          "50,110":
            V_desired <= 110
              ? LT_FULL_50HZ_110V[V_desired][V_desired]
              : undefined,
          "60,110":
            V_desired <= 110
              ? LT_FULL_60HZ_110V[V_desired][V_desired]
              : undefined,
          "50,120":
            V_desired <= 120
              ? LT_FULL_50HZ_120V[V_desired][V_desired]
              : undefined,
          "60,120":
            V_desired <= 120
              ? LT_FULL_60HZ_120V[V_desired][V_desired]
              : undefined,
          "50,220":
            V_desired <= 220
              ? LT_FULL_50HZ_220V[V_desired][V_desired]
              : undefined,
          "60,220":
            V_desired <= 220
              ? LT_FULL_60HZ_220V[V_desired][V_desired]
              : undefined,
        };
        const chart = d3.select("#chart");
        chart.selectAll("*").remove();

        configurations.forEach((config) => {
          const { frequency, voltage } = config;
          const t = d3
            .range(0, 1 / frequency, 1 / (frequency * 1000))
            .map((d) => d * 1e6);
          const omega = 2 * Math.PI * frequency;
          const V_peak = voltage * Math.sqrt(2);
          const V_waveform = t.map((d) => V_peak * Math.sin((omega * d) / 1e6));

          const svg = chart
            .append("svg")
            .attr("width", svgWidth + margin.left + margin.right)
            .attr("height", svgHeight + margin.top + margin.bottom)
            .attr("class", "plot")
            .append("g")
            .attr("transform", `translate(${margin.left},${margin.top})`);

          const xScale = d3
            .scaleLinear()
            .domain([0, d3.max(t)])
            .range([0, svgWidth]);

          const yScale = d3
            .scaleLinear()
            .domain([d3.min(V_waveform), d3.max(V_waveform)])
            .range([svgHeight, 0]);

          const line = d3
            .line()
            .x((d, i) => xScale(t[i]))
            .y((d) => yScale(d));

          svg
            .append("path")
            .datum(V_waveform)
            .attr("fill", "none")
            .attr("stroke", "#169fe6")
            .attr("stroke-width", 1.5)
            .attr("d", line);

          if (
            data[`${frequency},${voltage}`] ||
            data[`${frequency},${voltage}`] === 0
          ) {
            const t0 = data[`${frequency},${voltage}`];
            if (t0 === 0xffffffff) {
              svg
                .append("text")
                .attr("x", svgWidth / 2)
                .attr("y", svgHeight / 2)
                .attr("text-anchor", "middle")
                .attr("fill", "red")
                .text("半周期工作，无法满足目标电压输出");
            } else {
              svg
                .append("line")
                .attr("x1", xScale(t0))
                .attr("y1", 0)
                .attr("x2", xScale(t0))
                .attr("y2", svgHeight)
                .attr("stroke", "black")
                .attr("stroke-dasharray", "5,5");

              svg
                .append("text")
                .attr("x", xScale(t0))
                .attr("y", yScale(d3.min(V_waveform)) + 20)
                .attr("text-anchor", "start")
                .attr("fill", "black")
                .text(`t0 = ${t0} us`);
            }
          }

          svg
            .append("g")
            .attr("transform", `translate(0,${svgHeight / 2})`)
            .call(d3.axisBottom(xScale).ticks(5))
            .append("text")
            .attr("class", "axis-label")
            .attr("fill", "#000")
            .attr("x", svgWidth / 2)
            .attr("dy", "2.5em")
            .attr("text-anchor", "middle")
            .text("时间 (us)");

          svg
            .append("g")
            .call(d3.axisLeft(yScale).ticks(5))
            .append("text")
            .attr("class", "axis-label")
            .attr("fill", "#000")
            .attr("x", -svgHeight / 2)
            .attr("dy", "-3em")
            .attr("transform", "rotate(-90)")
            .attr("text-anchor", "middle")
            .text("电压 (V)");

          svg
            .append("text")
            .attr("x", svgWidth / 2)
            .attr("y", 20)
            .attr("text-anchor", "middle")
            .attr("fill", "black")
            .text(`${frequency}Hz, ${voltage}V`);
        });
      }
      const value = document.getElementById("text-box").value;

      document.getElementById("update-btn").addEventListener("click", () => {
        if (value) {
          updatePlot();
        }
      });
      window.onload = () => {
        updatePlot();
      };
    </script>
  </body>
</html>
